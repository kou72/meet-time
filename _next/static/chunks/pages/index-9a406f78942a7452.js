(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2603)}])},2603:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(5893),a=r(7294),l=r(3907),i=r(5945),s=r(9897),c=r(7795);function o(){let e=(0,a.useRef)(null),[t,r]=(0,a.useState)(0),[o,g]=(0,a.useState)(""),[h,f]=(0,a.useState)(""),w=e=>{let t=e.getEvents();t.sort((e,t)=>e.start-t.start);let r="";t.forEach(e=>{let t=new Date(e.start),n=new Date(e.end);r+=u(t)+" ~ "+d(n)+"\n"}),g(r)},v=()=>{if(!e.current)return;let t=e.current.getApi(),r=t.getEvents().map(e=>({id:e.id,start:e.start.toISOString(),end:e.end.toISOString(),allDay:e.allDay})),n=new URL(window.location.href);n.searchParams.set("events",JSON.stringify(r)),window.history.replaceState({},"",n.toString()),f(n.toString())};(0,a.useEffect)(()=>{let t=new URL(window.location.href),n=t.searchParams.get("events");if(n){let t=JSON.parse(n);if(!e.current)return;let a=e.current.getApi();t.forEach(e=>{a.addEvent(e)}),r(t.length),w(a)}},[]);let m=()=>{let e=t+1;return r(e),String(e)};return(0,n.jsxs)("div",{className:"h-screen bg-slate-200",children:[(0,n.jsx)("title",{children:"MeetTime"}),(0,n.jsx)("div",{className:"h-12 bg-gray-700 flex items-center justify-center",children:(0,n.jsx)("h1",{className:"font-bold text-center text-white",children:"MeetTime"})}),(0,n.jsxs)("div",{className:"flex mt-8 mx-12 h-4/5",children:[(0,n.jsx)("div",{className:"flex-grow",children:(0,n.jsx)(l.Z,{plugins:[i.Z,s.ZP],initialView:"timeGridWeek",selectable:!0,select:e=>{let t=e.view.calendar;t.unselect();let r={id:m(),start:e.startStr,end:e.endStr,allDay:e.allDay};t.addEvent(r),w(t)},eventClick:e=>{e.event.remove(),w(e.view.calendar)},eventsSet:v,eventChange:()=>{if(!e.current)return;let t=e.current.getApi();w(t),v()},eventColor:"#475569",ref:e,eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},locale:c.Z,allDaySlot:!1,editable:!0,height:"100%"})}),(0,n.jsxs)("div",{className:"ml-8 w-80",children:[(0,n.jsx)("textarea",{className:"w-full h-1/3 p-2 border-2 border-gray-400 rounded",readOnly:!0,value:o}),(0,n.jsx)("button",{onClick:e=>{navigator.clipboard.writeText(o)},className:"w-full mt-4 px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 active:bg-gray-700",children:"\uD83D\uDDD2テキストをコピー"}),(0,n.jsx)("textarea",{className:"w-full mt-16 h-1/6 p-2 border-2 border-stone-400 rounded",readOnly:!0,value:h}),(0,n.jsx)("button",{onClick:e=>{navigator.clipboard.writeText(h)},className:"w-full mt-4 px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 active:bg-gray-700",children:"\uD83D\uDD17URLをコピー"})]})]})]})}let u=e=>{let t=e.getMonth()+1,r=e.getDate(),n=["日","月","火","水","木","金","土"][e.getDay()];return"".concat(t,"月").concat(r,"日(").concat(n,") ").concat(d(e))},d=e=>{let t=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0");return"".concat(t,":").concat(r)}}},function(e){e.O(0,[69,653,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);